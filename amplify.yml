version: 1
frontend:
  runtime-versions:
    python: 3.9
  phases:
    preBuild:
      commands:
        - apt-get update
        - apt-get install -y python3.9
        - update-alternatives --install /usr/bin/python3 python3 /usr/bin/python3.9 1
        - python3 --version
        - python3 -m ensurepip --default-pip
        - apt-get install -y python3-pip  # Add this line to install pip
        - pip3 --version  # Add this line to print pip version
        - python3 -m pip install -r requirements.txt
        - python3 -m pip install Flask

  build:
    commands:
      - flask --app MovieRatings.py
  artifacts:
    baseDirectory: .
    files:
      - '**/*'
  cache:
    paths:
      - node_modules/**/*
      - public/**/*
